openapi: 3.0.0
info:
  version: 1.0.0
  title: GreenCigar Order API
  description: Retrieves order status based on unique code
servers:
  - url: https://greencigar.bg/api/v1
paths:
  /order/info:
    post:
      summary: Retrieve order status by unique code
      operationId: findOrderByCode
      requestBody:
        required: true
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                code:
                  type: string
                  example: "6596E8B189"
                  description: Unique order code
              required:
                - code
      responses:
        '200':
          description: Order found
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: "6596E8B189"
                  status:
                    type: string
                    example: "Завършена"
                    description: Maps to statusTxt from the API
                required:
                  - code
                  - status
        '400':
          description: Missing or invalid code
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                  code:
                    type: string
                  messages:
                    type: string
                example:
                  error: "Bad Request"
                  code: "400"
                  messages: "Bad syntax or generic error"
        '401':
          description: Unauthorized
